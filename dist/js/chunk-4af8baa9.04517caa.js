(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af8baa9"],{"00a2":function(t,s,e){"use strict";e("8ca3")},"174b":function(t,s,e){},"2de5":function(t,s,e){},"4ef5":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{appear:""}},[e("div",{staticClass:"setting"},[e("SettingHeader"),e("SettingBottom")],1)])},o=[],n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Header",{staticClass:"header"},[e("div",{staticClass:"header-left",attrs:{slot:"left"},on:{click:function(s){return s.stopPropagation(),t.back(s)}},slot:"left"}),e("p",{staticClass:"header-title",attrs:{slot:"center"},slot:"center"},[t._v(t._s(t.title))]),e("div",{staticClass:"header-right",attrs:{slot:"right"},slot:"right"})])},r=[],i=e("0418"),c={name:"SettingHeader",components:{Header:i["a"]},data:function(){return{title:"账号设置"}},methods:{back:function(){window.history.back()}}},d=c,l=(e("00a2"),e("2877")),u=Object(l["a"])(d,n,r,!1,null,"61360c90",null),p=u.exports,h=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"setting-bottom"},[e("div",{staticClass:"heart"}),t.isChangePassword?e("div",{staticClass:"box"},[e("h1",[t._v("Change Your Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"pwd",attrs:{type:"password",placeholder:"Enter your Password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),e("span",{staticClass:"prompt"},[t._v(t._s(t.secondPrompt))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.rePassword,expression:"rePassword"}],staticClass:"pwd",attrs:{type:"password",placeholder:"Enter your new Password"},domProps:{value:t.rePassword},on:{input:function(s){s.target.composing||(t.rePassword=s.target.value)}}}),e("span",{staticClass:"prompt"},[t._v(t._s(t.thirdPrompt))]),e("div",{staticClass:"singleButton"},[e("input",{staticClass:"cancel",attrs:{type:"submit",value:"cancel"},on:{click:t.cancel}}),e("input",{staticClass:"submit",attrs:{type:"submit",value:"submit"},on:{click:t.submit}})])]):e("div",{staticClass:"buttonCollection"},[e("input",{staticClass:"logout",attrs:{type:"submit",value:"退出登入"},on:{click:t.logout}}),e("input",{staticClass:"change",attrs:{type:"submit",value:"修改密码"},on:{click:t.changePassword}}),e("input",{staticClass:"destroy",attrs:{type:"submit",value:"注销账户"},on:{click:t.destroyAccount}})])])},m=[],w=e("5530"),g=e("ab10"),f=e("0210"),v=e("2f62"),b={name:"SettingBottom",data:function(){return{isChangePassword:!1,password:"",rePassword:"",secondPrompt:"",thirdPrompt:""}},methods:Object(w["a"])(Object(w["a"])({},Object(v["b"])(["changeLoginState"])),{},{logout:function(){var t=confirm("你确认退出登录吗?");t&&(this.$router.push("/login"),this.changeLoginState(!1))},changePassword:function(){this.isChangePassword=!0},destroyAccount:function(){var t=this,s=confirm("你确认注销账户吗? 一旦注销无法找回");s&&g["a"].post("/users/delete",{username:Object(f["d"])("username")}).then((function(s){s.code===f["f"].CODE_OK?(alert(s.msg),window.sessionStorage.clear(),t.$router.push("/login"),t.changeLoginState(!1)):s.code===f["f"].CODE_ERROR&&alert(s.msg)}))["catch"]((function(t){console.log(t)}))},submit:function(){var t=this,s=Object(f["d"])("username"),e=Object(f["d"])("password");""===this.password?this.secondPrompt="请先输入您的原始密码":""===this.rePassword?this.thirdPrompt="请先输入您的新密码":this.password===this.rePassword?(alert("新密码 不能与旧密码相同"),this.rePassword=""):e!==this.password?(alert("您的初始密码输入有误 请检查后重试"),this.password="",this.rePassword=""):g["a"].post("/users/updatePwd",[{username:s,password:this.password},{username:s,password:this.rePassword}]).then((function(s){s.code===f["f"].CODE_OK?(alert(s.msg),window.sessionStorage.removeItem("password"),t.$router.push("/login"),t.changeLoginState(!1)):s.code===f["f"].CODE_ERROR&&alert(s.msg)}))["catch"]((function(t){console.log(t)}))},cancel:function(){this.isChangePassword=!1}}),watch:{password:function(t,s){""!==t&&(this.secondPrompt="")},rePassword:function(t,s){""!==t&&(this.thirdPrompt="")}}},P=b,C=(e("a9ae"),Object(l["a"])(P,h,m,!1,null,"251ac4b2",null)),O=C.exports,_={name:"Setting",components:{SettingHeader:p,SettingBottom:O},metaInfo:function(){return{title:"设置",meta:[{name:"keyWords",content:"设置"},{name:"description",content:"这是设置页面"}]}}},y=_,k=(e("82d8"),Object(l["a"])(y,a,o,!1,null,"331341d2",null));s["default"]=k.exports},"82d8":function(t,s,e){"use strict";e("174b")},"8ca3":function(t,s,e){},a9ae:function(t,s,e){"use strict";e("2de5")}}]);
//# sourceMappingURL=chunk-4af8baa9.04517caa.js.map