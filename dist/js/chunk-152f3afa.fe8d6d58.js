(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-152f3afa"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},2532:function(t,e,i){"use strict";var s=i("23e7"),r=i("5a34"),n=i("1d80"),c=i("ab13");s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(n(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{staticClass:"search-box"},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==",alt:""}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWords,expression:"keyWords"},{name:"throttle",rawName:"v-throttle",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.keyWords},on:{input:function(e){e.target.composing||(t.keyWords=e.target.value)}}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.keyWords,expression:"keyWords !== ''"}],staticClass:"search-suggest"},[i("ScrollView",[i("ul",t._l(t.songs,(function(e){return i("li",{key:e.id,on:{click:function(i){return i.stopPropagation(),t.playSong(e.id)}}},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==",alt:""}}),i("p",[t._v(t._s(e.name)+" - "+t._s(e.ar[0].name))])])})),0)])],1),i("div",{staticClass:"search-hot"},[i("h3",[t._v("热门搜索")]),i("ul",t._l(t.hots,(function(e){return i("li",{key:e.first,on:{click:function(i){return i.stopPropagation(),t.goSearch(e.first)}}},[t._v(" "+t._s(e.first)+" ")])})),0)]),i("ul",{staticClass:"search-history"},t._l(t.searchHistory,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"history-left"},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljYWNhIiBkPSJNMTUgMzBDNi43MTYgMzAgMCAyMy4yODQgMCAxNVM2LjcxNiAwIDE1IDBzMTUgNi43MTYgMTUgMTUtNi43MTYgMTUtMTUgMTVtMC0yOEM3LjgyIDIgMiA3LjgyIDIgMTVzNS44MiAxMyAxMyAxMyAxMy01LjgyIDEzLTEzUzIyLjE4IDIgMTUgMm03IDE2aC04YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAxIDEgMiAwdjloN2ExIDEgMCAxIDEgMCAyIi8+PC9zdmc+",alt:""}}),i("p",[t._v(t._s(e))])]),i("div",{staticClass:"history-right"},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5ODk5IiBkPSJNMTMuMzc5IDEybDEwLjMzOCAxMC4zMzdhLjk3NS45NzUgMCAxIDEtMS4zNzggMS4zNzlMMTIuMDAxIDEzLjM3OCAxLjY2MyAyMy43MTZhLjk3NC45NzQgMCAxIDEtMS4zNzgtMS4zNzlMMTAuNjIzIDEyIC4yODUgMS42NjJBLjk3NC45NzQgMCAxIDEgMS42NjMuMjg0bDEwLjMzOCAxMC4zMzhMMjIuMzM5LjI4NGEuOTc0Ljk3NCAwIDEgMSAxLjM3OCAxLjM3OEwxMy4zNzkgMTIiLz48L3N2Zz4=",alt:""},on:{click:function(i){return i.stopPropagation(),t.delHistory(e)}}})])])})),0)])},r=[],n=(i("4de4"),i("caad"),i("ac1f"),i("2532"),i("841c"),i("4795"),i("5530")),c=i("9b91"),a=i("365c"),o=i("2f62"),M=i("0210"),g={name:"Search",metaInfo:function(){return{title:"搜索",meta:[{name:"keyWords",content:"搜索"},{name:"description",content:"这是搜索页面"}]}},components:{ScrollView:c["a"]},data:function(){return{keyWords:"",songs:[],hots:[],searchHistory:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["setFullScreen","setMiniPlayer","getSongsDetail"])),{},{playSong:function(t){this.setFullScreen(!0),this.setMiniPlayer(!1),this.getSongsDetail([t]),this.searchHistory.includes(this.keyWords)||(this.searchHistory.push(this.keyWords),Object(M["g"])("searchHistory",this.searchHistory),this.keyWords="")},search:function(){var t=this;Object(a["i"])({keywords:this.keyWords}).then((function(e){t.$set(t,"songs",e.result.songs)}))["catch"]((function(t){console.log(t)}))},goSearch:function(t){this.keyWords=t,this.search()},delHistory:function(t){this.searchHistory=this.searchHistory.filter((function(e){return e!==t})),Object(M["g"])("searchHistory",this.searchHistory)}}),created:function(){var t=this;Object(a["j"])().then((function(e){t.$set(t,"hots",e.result.hots)}))["catch"]((function(t){console.log(t)})),void 0!==Object(M["d"])("searchHistory")&&null!==Object(M["d"])("searchHistory")&&(this.searchHistory=Object(M["d"])("searchHistory"))},directives:{throttle:{inserted:function(t,e){var i=null,s=!0;t.addEventListener("input",(function(){s&&(s=!1,i&&clearTimeout(i),i=setTimeout((function(){s=!0,e.value()}),500))}))}}}},u=g,d=(i("dca2"),i("2877")),l=Object(d["a"])(u,s,r,!1,null,"d33ff180",null);e["default"]=l.exports},"5a34":function(t,e,i){var s=i("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"841c":function(t,e,i){"use strict";var s=i("d784"),r=i("825a"),n=i("1d80"),c=i("129f"),a=i("14c3");s("search",1,(function(t,e,i){return[function(e){var i=n(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,i):new RegExp(e)[t](String(i))},function(t){var s=i(e,t,this);if(s.done)return s.value;var n=r(t),o=String(this),M=n.lastIndex;c(M,0)||(n.lastIndex=0);var g=a(n,o);return c(n.lastIndex,M)||(n.lastIndex=M),null===g?-1:g.index}]}))},"902f":function(t,e,i){},ab13:function(t,e,i){var s=i("b622"),r=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(s){}}return!1}},caad:function(t,e,i){"use strict";var s=i("23e7"),r=i("4d64").includes,n=i("44d2"),c=i("ae40"),a=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!a},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},dca2:function(t,e,i){"use strict";i("902f")}}]);
//# sourceMappingURL=chunk-152f3afa.fe8d6d58.js.map