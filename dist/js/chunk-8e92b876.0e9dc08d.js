(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e92b876"],{"0290":function(t,e,i){},"7f43":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer"},[i("div",{staticClass:"singer-wrapper"},[i("ScrollView",{ref:"scrollView"},[i("ul",{staticClass:"list-wrapper"},t._l(t.list,(function(e,s){return i("li",{key:s,ref:"listGroup",refInFor:!0,staticClass:"list-group"},[i("h2",{staticClass:"group-title"},[t._v(" "+t._s(t.keys[s])+" ")]),i("ul",t._l(t.list[s],(function(e){return i("li",{key:e.id,staticClass:"group-item",on:{click:function(i){return i.stopPropagation(),t.chooseSinger(e.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img1v1Url,expression:"obj.img1v1Url"}],attrs:{alt:""}}),i("p",[t._v(t._s(e.name))])])})),0)])})),0)]),i("ul",{staticClass:"list-keys"},t._l(t.keys,(function(e,s){return i("li",{key:e,class:{active:t.currentLi===s},attrs:{"data-index":s},on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.touchstart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.touchmove(e)}}},[t._v(" "+t._s(e)+" ")])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.fixTitle,expression:"fixTitle !== ''"}],staticClass:"fix-title"},[t._v(" "+t._s(t.fixTitle)+" ")])],1),i("transition",[i("router-view")],1)],1)},n=[],o=(i("4160"),i("d3b7"),i("e25e"),i("159b"),i("ddb0"),i("365c")),r=i("9b91"),c={name:"Singer",metaInfo:function(){return{title:"歌手",meta:[{name:"keyWords",content:"歌手"},{name:"description",content:"这是歌手页面"}]}},components:{ScrollView:r["a"]},data:function(){return{keys:[],list:[],groupTop:[],currentLi:0,beginOffsetY:0,moveOffsetY:0,scrollY:0}},computed:{fixTitle:function(){return this.scrollY>=0?"":this.keys[this.currentLi]}},created:function(){var t=this;Object(o["c"])().then((function(e){t.keys=e.keys,t.list=e.list}))["catch"]((function(t){console.log(t)}))},mounted:function(){var t=this;this.$refs.scrollView.scrolling((function(e){if(t.scrollY=e,e>=0)t.currentLi=0;else{for(var i=0;i<t.groupTop.length-1;i++){var s=t.groupTop[i],n=t.groupTop[i+1];if(-e>=s&&-e<=n)return void(t.currentLi=i)}t.currentLi=t.groupTop.length-1}}))},methods:{setLiTop:function(t){this.currentLi=t,this.$refs.scrollView.scrollTo(0,-this.groupTop[t])},touchstart:function(t){this.setLiTop(parseInt(t.target.dataset.index)),this.beginOffsetY=t.touches[0].pageY},touchmove:function(t){this.moveOffsetY=t.touches[0].pageY;var e=Math.floor((this.moveOffsetY-this.beginOffsetY)/t.target.offsetHeight),i=parseInt(t.target.dataset.index)+e;i<0?i=0:i>this.keys.length-1&&(i=this.keys.length-1),this.setLiTop(i)},chooseSinger:function(t){this.$router.push("/singer/detail/".concat(t,"/singer"))}},watch:{list:function(){var t=this;this.$nextTick((function(){t.$refs.listGroup.forEach((function(e){t.groupTop.push(e.offsetTop)}))}))}}},a=c,u=(i("c189"),i("2877")),l=Object(u["a"])(a,s,n,!1,null,"207d4495",null);e["default"]=l.exports},c189:function(t,e,i){"use strict";i("0290")}}]);
//# sourceMappingURL=chunk-8e92b876.0e9dc08d.js.map